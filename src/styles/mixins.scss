@use "./variables.scss" as v;

// Common Mixins

// Media Query Mixins
@mixin tablet {
  @media (max-width: v.$tablet) {
    @content;
  }
}

@mixin mobile {
  @media (max-width: v.$mobile) {
    @content;
  }
}

// Transition Mixin
@mixin transition(
  $properties: all,
  $duration: v.$transition-base,
  $easing: v.$transition-ease
) {
  transition: $properties $duration $easing;
}

// Flexbox Mixins
@mixin flex-center {
  display: flex;
  align-items: center;
  justify-content: center;
}

@mixin flex-column {
  display: flex;
  flex-direction: column;
}

@mixin flex-between {
  display: flex;
  align-items: center;
  justify-content: space-between;
}

// Button Base Styles
@mixin button-base {
  font-family: v.$font-main;
  cursor: pointer;
  border: none;
  outline: none;
  @include transition();
  display: flex;
  align-items: center;
  justify-content: center;
}

@mixin button-hover($bg-color, $text-color) {
  &:hover:not(:disabled) {
    background-color: $bg-color;
    color: $text-color;
  }
}

@mixin button-active {
  &:active {
    transform: scale(0.95);
  }
}

// Box Shadow Mixins
@mixin shadow-sm {
  box-shadow: 0 2px 8px rgba(255, 107, 53, 0.3);
}

@mixin shadow-md {
  box-shadow: 0 4px 20px rgba(255, 107, 53, 0.3);
}

@mixin shadow-lg {
  box-shadow: 0 8px 24px rgba(255, 107, 53, 0.4);
}

@mixin shadow-glow {
  box-shadow: 0 0 15px rgba(255, 107, 53, 0.5);
}

// Border Mixins
@mixin border-dotted {
  border: 2px dotted v.$orange;
}

@mixin border-solid {
  border: 2px solid v.$orange;
}

// Text Mixins
@mixin text-ellipsis {
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
}

@mixin text-truncate($lines: 1) {
  display: -webkit-box;
  -webkit-line-clamp: $lines;
  -webkit-box-orient: vertical;
  overflow: hidden;
}

// Animated border mixin
@mixin animated-border(
  $border-color: v.$orange,
  $border-width: 2px,
  $dash-length: 6px,
  $animation-speed: v.$transition-slow
) {
  border: none;
  background-color: transparent;

  background-image: linear-gradient(90deg, $border-color 50%, transparent 0),
    linear-gradient(90deg, $border-color 50%, transparent 0),
    linear-gradient(0deg, $border-color 50%, transparent 0),
    linear-gradient(0deg, $border-color 50%, transparent 0);

  background-repeat: repeat-x, repeat-x, repeat-y, repeat-y;
  background-size: $dash-length $border-width, $dash-length $border-width,
    $border-width $dash-length, $border-width $dash-length;
  background-position: 0 0, 0 100%, 0 0, 100% 0;

  background-origin: border-box;
  background-clip: border-box, border-box, border-box, border-box;

  animation: linearGradientMove $animation-speed linear infinite;
}

// Keyframe for animated border (include once globally)
@keyframes linearGradientMove {
  100% {
    background-position: 6px 0, -6px 100%, 0 -6px, 100% 6px;
  }
}

// Reusable error box / text
@mixin error-box(
  $bg: rgba(255, 0, 0, 0.15),
  $border: v.$orange,
  $text: #ff2222,
  $padding: v.$spacing-xs,
  $radius: v.$radius-sm,
  $font-size: v.$font-size-sm
) {
  background-color: $bg;
  border: 1px solid $border;
  color: $text;
  padding: $padding;
  border-radius: $radius;
  font-size: $font-size;
  font-weight: v.$font-weight-semibold;
  text-align: center;

  @include mobile {
    font-size: v.$font-size-xs;
    padding: calc($padding / 2);
  }
}

// Inline error for form fields
@mixin error-text($color: #ff2222, $font-size: v.$font-size-xs) {
  color: $color;
  font-size: $font-size;
  margin-top: 4px;

  @include mobile {
    font-size: v.$font-size-xs;
  }
}
